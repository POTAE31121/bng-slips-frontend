<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สลิปเงินเดือน</title>
    <style>
        /* จัดให้รูปภาพอยู่กลางหน้าจอ */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #2e2e2e; /* เปลี่ยนพื้นหลังเป็นสีเข้มเพื่อให้รูปเด่นขึ้น */
        }
        /* สไตล์ของรูปภาพสลิป */
        #slip-image {
            max-width: 95%; /* ความกว้างสูงสุดไม่เกิน 95% ของหน้าจอ */
            max-height: 95vh; /* ความสูงสูงสุดไม่เกิน 95% ของความสูงหน้าจอ */
            object-fit: contain; /* รักษาสัดส่วนภาพ และย่อให้พอดีกับกรอบ */
            box-shadow: 0 8px 25px rgba(0,0,0,0.5); /* เพิ่มเงาให้รูปภาพ */
            border-radius: 4px; /* ทำให้ขอบมนเล็กน้อย */
        }

        /* ปุ่มย้อนกลับ */
        .back-button {
        position: fixed; /* ทำให้ปุ่มลอยอยู่กับที่ ไม่เลื่อนตามหน้าจอ */
        top: 20px;       /* ห่างจากขอบบน 20px */
        left: 20px;      /* ห่างจากขอบซ้าย 20px */
        z-index: 100;    /* ทำให้ปุ่มอยู่ชั้นบนสุดเสมอ ไม่โดนรูปภาพทับ */

        background-color: rgba(255, 255, 255, 0.9); /* สีพื้นหลังขาวโปร่งแสงเล็กน้อย */
        color: #333;           /* สีตัวอักษร */
        padding: 8px 16px;     /* ขนาดช่องว่างภายในปุ่ม */
        border-radius: 20px;   /* ทำให้ขอบมนมากๆ ดูเหมือนแคปซูล */
        text-decoration: none; /* เอาขีดเส้นใต้ของลิงก์ออก */
        font-weight: bold;     /* ทำให้ตัวอักษรหนา */
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2); /* เพิ่มเงาให้ปุ่ม */
        transition: all 0.2s ease-in-out; /* เพิ่ม animation ตอน hover */
    }

    .back-button:hover {
        background-color: #ffffff; /* ทำให้ปุ่มสว่างขึ้นเมื่อเมาส์ชี้ */
        transform: scale(1.05);  /* ขยายขนาดเล็กน้อย */
        box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    }
    </style>
</head>
<body>
    <!-- ปุ่มย้อนกลับ -->
    <a href="login.html" class="back-button">← ย้อนกลับ</a>
    <!-- เปลี่ยนจาก iframe มาเป็นแท็ก img สำหรับแสดงรูปภาพ -->
    <img id="slip-image" alt="สลิปเงินเดือนกำลังโหลด..." />

<script>
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const employeeId = urlParams.get('employeeId');

            if (employeeId) {
                // --- ส่วนสำคัญที่แก้ไข ---
                // สร้างชื่อไฟล์ตามรูปแบบใหม่ คือ [รหัสพนักงาน].jpg
                // โดยจะรองรับทั้ง LO1234 และ L04424
                const imageFileName = `slips/${employeeId}.jpg`; // เปลี่ยนเป็น .jpg และเอา "payslip_" ออก

                const slipImage = document.getElementById('slip-image');
                slipImage.src = imageFileName;
                slipImage.alt = `สลิปเงินเดือนของพนักงานรหัส ${employeeId}`;

            } else {
                document.body.innerHTML = '<h1>ไม่พบข้อมูลพนักงาน กรุณาล็อกอินก่อน</h1>';
            }
        };
    </script>

</body>
</html>